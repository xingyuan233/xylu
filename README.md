# xylu - A Modern C++17 Foundational Library

<p align="center">
  <img src="https://img.shields.io/badge/C%2B%2B-17-blue.svg" alt="C++17">
  <img src="https://img.shields.io/badge/Compiler-GCC%20%7C%20Clang-lightgrey.svg" alt="Compiler">
  <img src="https://img.shields.io/badge/License-MIT-green.svg" alt="License">
  <img src="https://img.shields.io/badge/Status-In%20Development%20(Paused)-orange.svg" alt="Status">
</p>

`xylu` æ˜¯ä¸€ä¸ªä»é›¶å¼€å§‹æ„å»ºçš„ã€ç°ä»£åŒ–çš„ã€ä»¥æ€§èƒ½å’Œæ˜“ç”¨æ€§ä¸ºå¯¼å‘çš„C++17åŸºç¡€åº“ã€‚å®ƒæ—¨åœ¨é‡æ–°æ€è€ƒå’Œå®ç°C++æ ‡å‡†åº“çš„æ ¸å¿ƒç»„ä»¶ï¼Œå¹¶æä¾›æ›´å¼ºå¤§ã€æ›´çµæ´»ã€æ›´å†…èšçš„APIã€‚

*(å½“å‰é¡¹ç›®å› ä½œè€…å‚ä¸å…¶ä»–äº‹æƒ…è€Œæš‚åœå¼€å‘)*

---

## æ ¸å¿ƒç‰¹æ€§ (Features)

`xylu` åº“ç”±ä¸€ç³»åˆ—é«˜åº¦è§£è€¦åˆå¯æ— ç¼åä½œçš„æ¨¡å—æ„æˆï¼š

ğŸš€ **é«˜æ€§èƒ½å†…å­˜ç®¡ç† (`xymemory`)**:
*   å†…ç½®**çº¿ç¨‹å±€éƒ¨å†…å­˜æ± **ï¼Œä¸ºçº¿ç¨‹å†…çš„é¢‘ç¹å°å¯¹è±¡åˆ†é…æä¾›æ— é”çš„é«˜æ€§èƒ½æ”¯æŒã€‚
*   çº¿ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨å›æ”¶å†…å­˜ï¼Œå¢å¼ºç¨‹åºå¥å£®æ€§ã€‚
*   æä¾› `xyu::alloc`/`xyu::dealloc` ä½œä¸ºä¸»è¦çš„ã€ä¸å†…å­˜æ± ç»‘å®šçš„åˆ†é…æ¥å£ã€‚
*   é‡è½½çš„å…¨å±€ `new`/`delete` åŸºäºåº•å±‚ `malloc`/`free`ï¼Œä¿è¯äº†ä¸æ ‡å‡†åº“åŠç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§å’Œè·¨çº¿ç¨‹å®‰å…¨æ€§ã€‚

âœï¸ **ç¼–è¯‘æœŸæ ¼å¼åŒ–å¼•æ“ (`xystring`)**:
*   å— `std::format` å¯å‘ä½†åŠŸèƒ½æ›´å¼ºå¤§çš„æ ¼å¼åŒ–åº“ã€‚
*   ä½¿ç”¨ `xyfmt()` å®å®ç°**ç¼–è¯‘æœŸ**æ ¼å¼å­—ç¬¦ä¸²è§£æå’Œç±»å‹æ£€æŸ¥ã€‚
*   é€šè¿‡**ç¼–è¯‘æœŸ/è¿è¡ŒæœŸæ··åˆæ¨¡å¼**ï¼Œä¸ºåŠ¨æ€å†…å®¹å®ç°å•æ¬¡ã€ç²¾ç¡®çš„å†…å­˜åˆ†é…ã€‚
*   æ”¯æŒä¸°å¯Œçš„æ­£äº¤æ ¼å¼è¯´æ˜ç¬¦ï¼Œç”šè‡³**æ”¯æŒæ ¼å¼æœ¬èº«ç”±å‚æ•°åŠ¨æ€å†³å®š**ã€‚
*   é€šè¿‡ `StreamWrapper` é€‚é…å™¨ï¼Œå¯å‘ä»»ä½•å…¼å®¹çš„æµï¼ˆ`String`, `File`, `vector`...ï¼‰è¾“å‡ºã€‚

ğŸ§© **é©å‘½æ€§çš„è¿­ä»£å™¨ä¸èŒƒå›´æ¡†æ¶ (`xyrange`)**:
*   **â€œèŒƒå›´æ˜¯ä¸€ç­‰å…¬æ°‘â€**: å®¹å™¨åªéœ€æä¾› `range()` æ–¹æ³•ï¼Œå³å¯èå…¥æ•´ä¸ªç”Ÿæ€ã€‚
*   **ç­–ç•¥æ¨¡å¼è¿­ä»£å™¨**: å°†è¿­ä»£å™¨çš„æ¯ä¸ªè¡Œä¸ºï¼ˆè§£å¼•ç”¨ã€è‡ªå¢ã€æ¯”è¾ƒç­‰ï¼‰æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ç­–ç•¥æ¨¡æ¿ï¼Œå…è®¸åœ¨ç¼–è¯‘æœŸä»»æ„â€œç»„è£…â€å’Œâ€œæ”¹é€ â€è¿­ä»£å™¨ã€‚
*   **ç”Ÿæˆå™¨ (Generators)**: æ”¯æŒåˆ›å»ºæ— é™æˆ–æƒ°æ€§æ±‚å€¼çš„åºåˆ—ï¼ˆå¦‚æ•°åˆ—ã€é‡å¤å€¼ï¼‰ï¼Œå¹¶æ— ç¼é€‚é…C++çš„èŒƒå›´forå¾ªç¯ã€‚

ğŸ§  **é«˜çº§å¹¶å‘åŸè¯­ (`xyconc`)**:
*   ä¸€ä¸ªå®Œæ•´çš„å¹¶å‘å·¥å…·é›†ï¼ŒåŒ…æ‹¬ï¼š
    *   **`Thread`**: ä¸€ä½“åŒ–çš„å¼‚æ­¥ä»»åŠ¡å¥æŸ„ï¼Œé›†æˆäº†çº¿ç¨‹å¯åŠ¨ã€ç»“æœè·å–å’Œå¼‚å¸¸ä¼ é€’ã€‚
    *   **`Mutex`/`Mutex_RW`**: é›¶åŠ¨æ€åˆ†é…å¼€é”€ï¼ˆWindowsï¼‰ã€å¼ºåˆ¶RAIIçš„äº’æ–¥é”å’Œè¯»å†™é”ã€‚
    *   **`CondVar`**: åŠŸèƒ½å¼ºå¤§çš„æ¡ä»¶å˜é‡ï¼Œæ”¯æŒç­‰å¾…æ¡ä»¶å‡½æ•°æˆ–æ™®é€šå€¼ã€‚
    *   **`Atomic`**: å¯¹ç¼–è¯‘å™¨å†…å»ºåŸå­æ“ä½œçš„é›¶å¼€é”€å°è£…ï¼Œå•çº¿ç¨‹æ¨¡å¼ä¸‹è‡ªåŠ¨é€€åŒ–ä¸ºæ™®é€šå˜é‡ã€‚

ğŸ§± **ç°ä»£åŒ–çš„æ ¸å¿ƒå®¹å™¨ (`xycontain`)**:
*   å·²å®ç° `Array`, `List`, `Tuple`, `HashTable`, `RbTree` ç­‰æ ¸å¿ƒå®¹å™¨ã€‚
*   æ·±åº¦é›†æˆ `xylu` å†…å­˜æ± å’ŒèŒƒå›´åº“ã€‚
*   æä¾›æ›´å‹å¥½çš„APIï¼Œå¦‚ `operator[]` æ”¯æŒè´Ÿç´¢å¼•ã€‚
*   é€šè¿‡æ³›å‹æ¥å£å’Œå…ƒç¼–ç¨‹ï¼Œå®ç°äº†é«˜åº¦ä¸€è‡´å’Œå¼ºå¤§çš„ `append`/`insert` åŠŸèƒ½ã€‚

ğŸ› ï¸ **ä»¥åŠæ›´å¤š...**
*   **é€šç”¨æ¯”è¾ƒæ¡†æ¶ (`xyrange/compare.h`):** è‡ªåŠ¨å‘ç°å¹¶ä½¿ç”¨æœ€é«˜æ•ˆçš„æ¯”è¾ƒç­–ç•¥ã€‚
*   **è¯¦å°½çš„å¼‚å¸¸ä½“ç³» (`xycore/error.h`):** è½»é‡çº§ã€è¯­ä¹‰åŒ–çš„å¼‚å¸¸ç±»å‹ï¼Œä¸æ—¥å¿—ç³»ç»Ÿæ·±åº¦é›†æˆã€‚
*   **å¼ºå¤§çš„ç±»å‹èƒå–åº“ (`xytraits`):** åŒ…å«ä¸€å¥—å®Œæ•´çš„ã€ç”¨äºæ“ä½œç±»å‹å’Œæ¨¡æ¿çš„å…ƒç¼–ç¨‹å·¥å…·ã€‚

---

## è®¾è®¡å“²å­¦å°å‰§åœº

> ğŸ˜‡ **å¤©ä½¿:** ä¸ºä»€ä¹ˆè¦ä½¿ç”¨C++17ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** å› æ­¤C++17æ˜¯æœ€æ—©çš„ç°ä»£C++ç‰ˆæœ¬ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** å¥½å§ï¼Œå¯æ˜¯ä½ ä¸ºä»€ä¹ˆè¦åˆ æ‰åˆ†é…å™¨ ï¼Œè¿™æ ·ä¸å°±å¯¼è‡´é€»è¾‘å›ºåŒ–äº†å˜›ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** å¹¶éå¦‚æ­¤ï¼Œä½ åªè¦æŠŠçº¿ç¨‹å…¨å±€å†…å­˜æ± ç»™æ›¿æ¢æ‰å°±è¡Œäº†ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** é‚£å’Œä¿®æ”¹é»˜è®¤åˆ†é…å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** åŒºåˆ«å¯å¤§äº†ï¼Œå› ä¸ºå¯ä»¥å°‘ä¸€ä¸ªæ¨¡æ¿å‚æ•°ğŸ¤“
>
> ğŸ˜‡ **å¤©ä½¿:** ğŸ˜‘è®¤çœŸä¸€ç‚¹ï¼
>
> ğŸ˜ˆ **æ¶é­”:** å’³...å¥½ã€‚å› ä¸ºä¸éœ€è¦ç¹ççš„rebindæ¥rebindå»äº†ã€‚è€Œä¸”ä½ éœ€è¦é¢å¤–è€ƒè™‘åˆ†é…å™¨çš„æ„é€ å’ŒçŠ¶æ€ï¼Œå¯¼è‡´ç§»åŠ¨è¯­ä¹‰çš„å®ç°å¾ˆç¹çï¼Œè¿œä¸å¦‚å…¨å±€å†…å­˜æ± æ¥å¾—ç®€ä¾¿ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** åŸæ¥å¦‚æ­¤ã€‚é‚£è¿­ä»£å™¨å‘¢ï¼Ÿä½ ä¸ä¼šæŠŠè¿­ä»£å™¨ä¹Ÿç»™åˆ äº†å§ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** æ²¡åˆ ï¼Œåªæ˜¯ç»™åˆ†å°¸äº†ğŸ˜ˆ
>
> ğŸ˜‡ **å¤©ä½¿:** ï¼Ÿï¼Ÿï¼ŸğŸ˜¨ä»€ä¹ˆç©æ„ï¼Ÿï¼Ÿï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** å°±æ˜¯å°†è¿­ä»£å™¨çš„æ¯ä¸ªå‡½æ•°ï¼ˆè¿ç®—ç¬¦ï¼‰éƒ½ç»™æ‹†æˆç‹¬ç«‹çš„æ¨¡æ¿ç­–ç•¥äº†ã€‚åªéœ€è¦å‡ å¥—åŸºç¡€æ¨¡å…·ï¼Œè¿˜æœ‰æä¾›ä¿®æ”¹çš„å·¥å…·ï¼Œå°±èƒ½ç»„è£…å‡ºä»»ä½•æƒ³è¦çš„è¿­ä»£å™¨ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** å“¦ï¼ŒğŸ˜‡é‚£å¾ˆæ–¹ä¾¿äº†ã€‚
>
> ğŸ˜ˆ **æ¶é­”:** ä¸è¿‡è¯è¯´å›æ¥ï¼Œæˆ‘çš„ç¡®æŠŠå®¹å™¨é‡Œçš„è¿­ä»£å™¨ç»™åˆ äº†ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** ä¸æ˜¯è¯´æ²¡åˆ å˜›ï¼Œé‚£ä½ é‚£å¥—è¿­ä»£å™¨ç»™è°ç”¨çš„ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** ğŸ¤“èŒƒå›´æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œä¸–ç•Œæ˜¯èŒƒå›´çš„ã€‚å®¹å™¨åªéœ€è¦æä¾›ä¸€ä¸ª`range()`ï¼Œå‰©ä¸‹çš„äº¤ç»™èŒƒå›´è‡ªå·±æå®šã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** é‚£æ¯”è¾ƒè¿ç®—ç¬¦å‘¢ï¼ŸC++17å¯æ²¡åŠæ³•ä½¿ç”¨`<=>`å‘¢ã€‚
>
> ğŸ˜ˆ **æ¶é­”:** ç•°è­°ã‚ã‚Šï¼é‚£æˆ‘æä¾›ä¸€å¥— `equals` å’Œ `compare`ï¼Œç„¶åæŠŠç”¨æˆ·çš„ `==`, `<` â€œå·æ¢æ¢æŸ±â€ï¼Œåœ¨ç¼–è¯‘æœŸæŠŠå®ƒä»¬æ¢æˆæˆ‘çš„å®ç°ä¸å°±å¥½äº†ã€‚
>
> ğŸ˜‡ **å¤©ä½¿:** ...å¿˜ä¸äº†ä½ çš„èŒƒå›´æ˜¯å—ï¼Ÿä¸è¿‡ç¡®å®æŒºæ–¹ä¾¿çš„ã€‚
>
> ğŸ˜ˆ **æ¶é­”:** ğŸ˜‡èŒƒå›´æ˜¯ä¸€ç­‰å…¬æ°‘
>
> ğŸ˜‡ **å¤©ä½¿:** ä¸è®¸å·æˆ‘è¡¨æƒ…åŒ…ï¼
>
> ğŸ˜ˆ **æ¶é­”:** ğŸ˜‡å¥½ğŸ˜‡~ğŸ˜‡çš„ğŸ˜‡~ğŸ˜‡
>
> ğŸ˜‡ **å¤©ä½¿:** ä½ ï¼ï¼...ç®—äº†ï¼Œæ‰€ä»¥ä½ åˆ°åº•ä¸ºä»€ä¹ˆä¸å‡çº§C++çš„ç‰ˆæœ¬ï¼Ÿ
>
> ğŸ˜ˆ **æ¶é­”:** å› ä¸ºæˆ‘é«˜ä¸­çš„å­¦å·æ˜¯17ğŸ˜‡
>
> ğŸ˜‡ **å¤©ä½¿:** ğŸ˜‘...

---

## ç¼–ç è§„èŒƒä¸çº¦å®š (Guiding Principles)

`xylu` éµå¾ªä¸€å¥—ä¸¥æ ¼ä¸”å®ç”¨çš„ç¼–ç è§„èŒƒï¼Œä»¥ä¿è¯ä»£ç çš„æ¸…æ™°ã€ä¸€è‡´å’Œé«˜æ•ˆã€‚

### æ ¸å¿ƒ (Core)
- **å‰ç½®è¦æ±‚**:
    1.  éœ€è¦ä½¿ç”¨C++17åŠä»¥ä¸Šç‰ˆæœ¬ç¼–è¯‘ã€‚
    2.  ä»…æ”¯æŒ **GCC / Clang**ï¼Œä¸ä¿è¯ä¸MSVCç­‰å…¶ä»–ç¼–è¯‘å™¨çš„å…¼å®¹æ€§ã€‚
    3.  ç¼–è¯‘æˆ–ä½¿ç”¨å‰è¯·ä¿è¯ `xylu/xycore/config.h` ä¸­çš„é…ç½®æ­£ç¡®ã€‚
- **å‘½åç©ºé—´**:
    1.  ä¸åœ¨ä»»ä½•å¤´æ–‡ä»¶å¼•å…¥æ ‡å‡†åº“æ–‡ä»¶ï¼Œé¿å…å‘½åç©ºé—´æ±¡æŸ“ã€‚
    2.  æ¯ä¸ªæ¨¡å—æœ‰ç‹¬ç«‹çš„å‘½åç©ºé—´ `xylu::module_name`ã€‚
    3.  é€šè¿‡ `link/` ç›®å½•ä¸‹çš„å¤´æ–‡ä»¶ç»Ÿä¸€å°†å¸¸ç”¨ç±»å‹å’Œå‡½æ•°å¼•å…¥åˆ°ä¾¿æ·çš„ `xyu` å‘½åç©ºé—´ã€‚
    4.  å†…éƒ¨å®ç°ç»†èŠ‚ä½äº `xylu::module_name::__` å‘½åç©ºé—´ä¸‹ã€‚
- **å†…å­˜åˆ†é…**:
    1.  **çº¿ç¨‹å†…é«˜æ€§èƒ½åˆ†é…**: ä½¿ç”¨ `xyu::alloc` / `xyu::dealloc`ï¼Œå®ƒèƒŒåæ˜¯ `thread_local` çš„é«˜æ€§èƒ½å†…å­˜æ± ã€‚
    2.  **é€šç”¨/è·¨çº¿ç¨‹åˆ†é…**: ä½¿ç”¨å…¨å±€ `new` / `delete`ï¼Œæˆ–å¸¦ `xyu::native_t` æ ‡ç­¾çš„ `alloc`/`dealloc`ã€‚å®ƒä»¬åŸºäºåº•å±‚çš„ `malloc`/`free`ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨å’Œå…¼å®¹æ€§ã€‚
- **è¿­ä»£å™¨ä¸èŒƒå›´**:
    1.  **èŒƒå›´ä¼˜å…ˆ**: å®¹å™¨å’Œç®—æ³•ä¼˜å…ˆå¤„ç† `Range` å¯¹è±¡ï¼Œè€ŒéåŸå§‹è¿­ä»£å™¨å¯¹ã€‚
    2.  **å®¹å™¨æ¥å£**: å®¹å™¨åªéœ€æä¾› `range()` æ–¹æ³•å³å¯èå…¥ç”Ÿæ€ã€‚
- **æ¯”è¾ƒè¿ç®—ç¬¦**:
    1.  ä¸ºè‡ªå®šä¹‰ç±»å‹æä¾› `equals()` / `compare()` (æˆå‘˜æˆ–éæˆå‘˜å‡½æ•°)ï¼Œæˆ–é‡è½½æ ‡å‡†æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå³å¯è¢« `xylu` çš„é€šç”¨æ¯”è¾ƒæ¡†æ¶è‡ªåŠ¨è¯†åˆ«å’Œä½¿ç”¨ã€‚
    2.  è‹¥ç±»å‹å¯è½¬æ¢ä¸º `Range`ï¼Œåˆ™é»˜è®¤è¿›è¡Œé€å…ƒç´ å­—å…¸åºæ¯”è¾ƒã€‚

### å‘½åçº¦å®š (Naming Conventions)
- **ç±»å‹**: `PartName_Detail` (PascalCase with underscore)ï¼Œä½“ç°å½’å±å…³ç³» (e.g., `RangeIter_Ptr`)ã€‚è‹¥éå½’å±å…³ç³»ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ `PascalCase` (e.g., `StringView`)ã€‚
- **åŸºç¡€/ç‰¹æ®Šç±»å‹**: `xxx_t` (e.g., `size_t`, `native_t`)ã€‚
- **å‡½æ•°**: `module_xxx` (e.g., `calc_sqrt`, `make_range`)ã€‚
- **å¸¸é‡/æšä¸¾**: `K_XXX` (å¸¸é‡), `N_XXX` (æšä¸¾), `E_XXX` (å¼‚å¸¸)ã€‚
- **å®**: `XY_XXX` (å®šä¹‰å®), `xyxxx` (å‡½æ•°å®)ã€‚
- **ç¼–è¯‘æœŸå¸¸é‡**: `xxx_c` (e.g., `true_c`, `int_c`)ã€‚
- **æ ‡è¯†å¸¸é‡**: `xxx_v` (e.g., `nothrow_v`, `native_v`)ã€‚

---

## å¿«é€Ÿä¸Šæ‰‹ (Quick Start)

ä¸‹é¢çš„ç¤ºä¾‹å°†å±•ç¤º `xylu` åº“çš„å‡ ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼š
- ä½¿ç”¨ `xyu::Thread` è¿›è¡Œç®€å•çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†ã€‚
- æ•è· `xylu` çš„è¯­ä¹‰åŒ–å¼‚å¸¸ã€‚
- é€šè¿‡ `xylog` è¿›è¡Œé«˜æ€§èƒ½ã€ç±»å‹å®‰å…¨çš„æ—¥å¿—è®°å½•ã€‚
- ä½¿ç”¨ `xyfmt` è¿›è¡Œå¼ºå¤§çš„ç¼–è¯‘æœŸæ ¼å¼åŒ–ã€‚
- `xyu::Vector` å’ŒèŒƒå›´forå¾ªç¯çš„æ— ç¼é›†æˆã€‚

```cpp
#include <xylu/xycore> 
#include <xylu/xycontain>
#include <xylu/xythread> 

// ä¸€ä¸ªå¯èƒ½å¤±è´¥çš„å¼‚æ­¥ä»»åŠ¡
double risky_division(double numerator, double denominator)
{
    if (denominator == 0) {
        // æŠ›å‡º xylu çš„è¯­ä¹‰åŒ–å¼‚å¸¸
		xyloge(false, "denominator can't be 0");
        throw xyu::E_Logic_Invalid_Argument{};
    }
    // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
    xyu::Duration_ms{50}.sleep();
    return numerator / denominator;
}

int main()
{
    // é…ç½®å…¨å±€æ—¥å¿—ï¼Œæ·»åŠ ä¸€ä¸ªè¾“å‡ºåˆ° "output.log" çš„æ–‡ä»¶ç›®æ ‡
    xyu::flog.add_file("output.log");
    
    // ---- å¼‚æ­¥ä»»åŠ¡ä¸å¼‚å¸¸å¤„ç† ----
    
    xylog(XY_LOG_LEVEL_INFO, "Starting two asynchronous division tasks.");

    // ä»»åŠ¡1: æ­£å¸¸æ‰§è¡Œ
    xyu::Thread task1(risky_division, 10.0, 2.0);

    // ä»»åŠ¡2: å°†ä¼šå› é™¤é›¶è€ŒæŠ›å‡ºå¼‚å¸¸
    xyu::Thread task2(risky_division, 5.0, 0.0);

    try {
        // ç­‰å¾…å¹¶è·å– task1 çš„ç»“æœ
        double result1 = task1.get<double>();
        xylog(XY_LOG_LEVEL_INFO, "Task 1 succeeded with result: {}", result1);
    }
    catch (const xyu::Error& e) {
        // è¿™é‡Œçš„ catch å—ä¸ä¼šè¢«æ‰§è¡Œ
        xylog(XY_LOG_LEVEL_ERROR, "Caught an unexpected exception from Task 1!");
    }

    try {
        // ç­‰å¾…å¹¶è·å– task2 çš„ç»“æœ
        // è¿™å°†ä¼šé‡æ–°æŠ›å‡ºåœ¨åå°çº¿ç¨‹ä¸­æ•è·çš„å¼‚å¸¸
        task2.get<double>();
    }
    catch (const xyu::E_Logic_Invalid_Argument& e) {
        // å¼‚å¸¸è¢«æˆåŠŸæ•è·ï¼
        xylog(XY_LOG_LEVEL_WARN, "Caught expected exception from Task 2: Invalid argument.");
    }
    
    // ---- æ ¼å¼åŒ–ä¸å®¹å™¨ ----

    xyu::Vector<xyu::String> items;
    items.append("Apple", "Banana", "Cherry");
    items.insert(0, xyu::make_range_repeat("Orange", 2)); // åœ¨å¤´éƒ¨æ’å…¥2ä¸ª"Orange"

    // ä½¿ç”¨ xyfmt è¿›è¡Œå¼ºå¤§çš„ç¼–è¯‘æœŸæ ¼å¼åŒ–
    // - {0:^10}   : ç¬¬0ä¸ªå‚æ•°ï¼Œå±…ä¸­å¯¹é½ï¼Œå®½åº¦10
    // - {1:?}     : ç¬¬1ä¸ªå‚æ•°(items)ï¼Œä½¿ç”¨é»˜è®¤çš„å®¹å™¨æ ¼å¼åŒ–
    // - {1:? | }  : ç¬¬1ä¸ªå‚æ•°(items)ï¼Œä½†å…ƒç´ é—´çš„åˆ†éš”ç¬¦æ”¹ä¸ºç©ºæ ¼å’Œç«–çº¿
    auto formatted_string = xyfmt(
        "--- Shopping List ---\nFruit of the day: {0:^10}\nItems: {1:? | }\n",
        "Banana", items
    );

    // ä½¿ç”¨ xylog ç›´æ¥è¾“å‡ºæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²
    xylog(XY_LOG_LEVEL_INFO, "\n{}", formatted_string);

    return 0;
}
```

### é¢„æœŸè¾“å‡º

**æ§åˆ¶å° (`stdout`) å¯èƒ½çš„è¾“å‡º:**
```
[2025-08-01 10:30:00.123456] [INFO ] [0x...]: Starting two asynchronous division tasks.
[2025-08-01 10:30:00.174567] [INFO ] [0x...]: Task 1 succeeded with result: 5
[2025-08-01 10:30:00.174890] [WARN ] [0x...]: Caught expected exception from Task 2: Invalid argument.
[2025-08-01 10:30:00.175123] [INFO ] [0x...]: 
--- Shopping List ---
Fruit of the day:   Banana  
Items: [Orange | Orange | Apple | Banana | Cherry]

```

**æ—¥å¿—æ–‡ä»¶ (`output.log`) ä¸­å¯èƒ½åŒ…å«:**```
... (å‰é¢çš„æ—¥å¿—)
[2025-08-01 10:30:00.123888] [ERROR] [0x...]: path/to/your/source.cpp:11:risky_division E_Logic_Invalid_Argument: invalid argument to function
... (åé¢çš„æ—¥å¿—)
```

## è®¸å¯è¯ (License)


æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License**ã€‚è¯¦æƒ…è¯·è§ `LICENSE` æ–‡ä»¶ã€‚

